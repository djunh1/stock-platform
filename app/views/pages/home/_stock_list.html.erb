<div class="container-fluid bg-light pt-5 text-center">
  <h2 class="text-left section-header mb-4 ">Recent Stock Trades</h2>
</div>
<div class="container-fluid bg-light main-page-section">
  <div class="row">
    <div class="col-lg-12 mb-4 text-left">
      <table class="table table-image table-centered">
        <thead class="thead-dark">
          <tr>
            <th scope="col" class="sm-hidden"></th>
            <th scope="col">Ticker</th>
            <th scope="col">Bullish/Bearish</th>
            <th scope="col">Buy Date</th>
            <th scope="col">Sell Date</th>
            <th scope="col" class="sm-hidden">Entry Price</th>
            <th scope="col" class="sm-hidden">Stop Loss</th>
          </tr>
        </thead>
        <tbody>
          <% @tickers.each do |stonk| %>
            <tr>
              <td class="sm-hidden">
                 <div class="image-container">
                    <%= image_tag portfolio_img(stonk.main_image, 'main'), class:'tp-img' %>
                 </div>
              </td>
              <td> <%= link_to stonk.ticker, portfolio_show_path(stonk), class: 'table-link' %></td>
              <td>
                <% if stonk.status == "Bullish" %>
                  <%= image_tag "bullmarket.jpg", alt: "bullish", class: 'picture-3'  %>
                <% end %>

                <% if stonk.status == "Bearish" %>
                  <%= image_tag "bearmarket.jpg", alt: "bearish", class: 'picture-4'  %>
                <% end %>
              </td>
              <td><%= stonk.purchase_date.present? ? stonk.purchase_date.strftime("%b %d, %Y") : "n.a" %></td>
              <td><%= stonk.sell_date.present? ? stonk.sell_date.strftime("%b %d, %Y")  : "Holding" %></td>
              <td class="sm-hidden">$<%= stonk.pivot_buy %></td>
              <td class="sm-hidden">$<%= stonk.stop_loss %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
